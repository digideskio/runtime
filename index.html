<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>
      Runtime and Security Model for Web Applications
    </title>
    <script src="http://www.w3.org/Tools/respec/respec-w3c-common" class=
    "remove">
</script>
    <script class='remove'>
var respecConfig = {
        specStatus:           "ED",
        shortName:            "runtime",

        //publishDate:  "2012-12-12",
        previousPublishDate:  "2013-03-21",
        previousMaturity:     "FPWD",
        edDraftURI:           "http://www.w3.org/2012/sysapps/runtime/",
        // lcEnd: "3000-01-01",
        // crEnd: "3000-01-01",

        editors: [
            {
              name: "Mounir Lamouri",
              company: "Mozilla",
              companyURL: "http://mozilla.org/"
            },
            {
              name: "金明 (Ming Jin)",
              company: "Samsung Electronics, Co., Ltd",
              companyURL: "http://www.samsung.com/sec"
            },
        ],

        inlineCSS:     true,
        noIDLIn:       true,
        noLegacyStyle: false,
        extraCSS:      ["../ReSpec.js/css/respec.css"],

        wg:           "System Applications Working Group",
        wgURI:        "http://www.w3.org/2012/sysapps/",
        wgPublicList: "public-sysapps",
        wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/58119/status"
      };
    </script>
    <style>
.todo { display: none; }
    </style>
  </head>
  <body>
    <div class="note" style="color: red">
      The System Applications Working Group is currently not progressing the
      approach outlined in this draft. Please treat this document with caution
      and do not reference it or use it as the basis for implementation. The
      domain covered by this document is still within the scope of the Working
      Group as defined in its Charter.
    </div>
    <section id='abstract'>
      <p>
        This document specifies two classes of Web application: <em>hosted Web
        applications</em> and <em>packaged applications</em>. These
        applications differ from traditional Web applications in their life
        cycle, security model, and access to APIs that are not normally
        available to Web applications. Conceptually, the application manifest
        indicates that an application can be "installed" on an end-user's
        device. What distinguishes a traditional Web application from a hosted
        web application is an application manifest: this is a JSON resource
        that contains application specific metadata (e.g., the name of the
        application), and optionally various security related permission
        requests to resources on the Web and/or services and capabilities on
        the device.
      </p>
      <figure>
        <a href="#apptypesdesc"><img src="images/apptypes.png" alt=""></a>
        <figcaption id="apptypesdesc">
          The figure shows the overlap between traditional web applications,
          hosted web applications, and packaged applications. Web applications
          make use of standard Web technologies but don't make use of an
          application manifest. On the other hand, hosted applications make use
          of an application manifest, while packaged applications have both an
          application manifest and are packaged using [[!ZIP]].
        </figcaption>
      </figure>
      <p>
        Installation of hosted or packaged applications onto a device can be
        initiated through either linking to an application manifest or through
        the use of the <code>ApplicationRegistry</code> API. This API gives a
        developer a degree of control over the installation process.
      </p>
      <p>
        This specification also specifies aspects related to the application's
        lifecycle that are outside the control of the developer. These events
        sometimes result in <em>system messages</em> being generated.
        Developers can register event listeners to listen for these special
        events during the life cycle of their application.
      </p>
    </section>
    <section id="conformance">
      <p>
        There is only one class of product that can claim conformance to this
        specification: a <dfn>user agent</dfn>.
      </p>
      <p>
        The IDL fragments in this specification must be interpreted as required
        for conforming IDL fragments, as described in the Web IDL
        specification. [[!WEBIDL]].
      </p>
    </section>
    <section>
      <h2>
        Terminology
      </h2>
      <p>
        The <dfn><a href=
        "http://dev.w3.org/html5/spec/webappapis.html#event-handlers">EventHandler</a></dfn>
        interface represents a callback used for event handlers as defined in
        [[!HTML5]].
      </p><!--
      <p>
        The concepts <dfn><a href="http://dev.w3.org/html5/spec/webappapis.html#queue-a-task">
        queue a task</a></dfn> and
        <dfn><a href="http://dev.w3.org/html5/spec/webappapis.html#fire-a-simple-event">
        fire a simple event</a></dfn> are defined in [[!HTML5]].
      </p>
      -->
      <p>
        The concept of <dfn><a href=
        'http://dev.w3.org/html5/spec/webappapis.html#fire-a-simple-event'>fire
        a simple event</a></dfn> is defined in [[!HTML5]].
      </p>
      <p>
        The terms <dfn><a href=
        "http://dev.w3.org/html5/spec/webappapis.html#event-handlers">event
        handlers</a></dfn> and <dfn><a href=
        "http://dev.w3.org/html5/spec/webappapis.html#event-handler-event-type">
        event handler event types</a></dfn> are defined in [[!HTML5]].
      </p>
      <p>
        The <dfn><a href=
        'http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html/#interface-domerror'>
        DOMError</a></dfn> interface represents an error handling object as
        defined in [[!DOM4]].
      </p>
    </section>
    <section class="informative">
      <h2>
        Application Manifest and its members
      </h2>
      <p class="note">
        The &quot;application manifest and its members&quot; section has become its 
        own specification. You can now find it at
        <a href="http://www.w3.org/2012/sysapps/manifest/">http://www.w3.org/2012/sysapps/manifest/</a>.
      </p>
    </section>
    <section>
      <h2>
        Application Management
      </h2>
      <section>
        <h2>
          <a>Application</a> interface
        </h2>
        <section>
          <p>
            Web Applications are represented by the <a>Application</a>
            interface.
          </p>
          <dl title='interface Application' class='idl'>
            <dt>
              readonly attribute DOMString origin
            </dt>
            <dd>
              The attribute MUST return the <a>application's origin</a>.
            </dd>
            <dt>
              readonly attribute Object manifest
            </dt>
            <dd>
              The attribute MUST return an object representing the parsed
              <a>application manifest</a>.
            </dd>
            <dt>
              readonly attribute DOMString installOrigin
            </dt>
            <dd>
              The attribute MUST return the origin of the page from which the
              application was installed. [[!ORIGIN]]
            </dd>
            <dt>
              readonly attribute unsigned long installTime
            </dt>
            <dd>
              The attribute MUST return the time in milliseconds since epoch at
              which the application was installed.
            </dd>
            <dt>
              readonly attribute Object parameters
            </dt>
            <dd>
              The attribute MUST return the parameters that were provided at
              install time. See <code>install()</code> in
              <a>ApplicationRegistry</a>.
            </dd>
            <dt>
              <a>DOMRequest</a> launch()
            </dt>
            <dd>
              This method MUST return a <a>DOMRequest</a> instance and then run
              the following steps asynchronously:
              <ol>
                <li>If the caller is not allowed by the UA to launch the
                application, the UA MUST fire an <code>error</code> event to
                the <a>DOMRequest</a> object with the
                <code>"NotAllowedError"</code> error code and exit those steps.
                </li>
                <li>If the caller is allowed to launch the application, the UA
                SHOULD launch the application.
                </li>
                <li>If the application has been successfully launched, the UA
                MUST fire a <code>success</code> event to the <a>DOMRequest</a>
                object and set <code>result</code> to null.<br>
                  Otherwise, the UA MUST fire an <code>error</code> event to
                  the <a>DOMRequest</a> object with an error code that
                  describes the error.
                </li>
              </ol>
            </dd>
            <dt>
              <a>DOMRequest</a> uninstall()
            </dt>
            <dd>
              This method MUST return a <a>DOMRequest</a> instance and then run
              the following steps asynchronously:
              <ol>
                <li>If the application is not currently installed, the UA MUST
                fire an <code>error</code> event to the <a>DOMRequest</a>
                object with the <code>"NotInstalledError"</code> error code and
                exit those steps.
                </li>
                <li>If the caller is not allowed by the UA to uninstall the
                application, the UA MUST fire an <code>error</code> event to
                the <a>DOMRequest</a> object with the
                <code>"NotAllowedError"</code> error code and exit those steps.
                </li>
                <li>If the caller is allowed to uninstall the application, the
                UA SHOULD uninstall the application.
                </li>
                <li>If the application has been successfully uninstalled, the
                UA MUST fire a <code>success</code> event to the
                <a>DOMRequest</a> object and set <code>result</code> to
                null.<br>
                  Otherwise, the UA MUST fire an <code>error</code> event to
                  the <a>DOMRequest</a> object with an error code that
                  describes the error.
                </li>
              </ol>
            </dd><!-- Update-related API -->
            <dt>
              readonly attribute DOMString updateState
            </dt>
            <dd>
              The attribute MUST return the empty string,
              <code>available</code>, <code>downloading</code>,
              <code>downloaded</code> or <code>installing</code>, depending on
              the state of the application.<br>
              If the application is being updated, the attribute MUST return
              <code>installing</code>.<br>
              If the application is ready to be updated, with the update fully
              downloaded or if there is no download to proceed to the update,
              the attribute MUST return <code>downloaded</code>.<br>
              If the application's update is being downloaded, the attribute
              MUST return <code>downloading</code>.<br>
              If there is an application update available, it is not being
              installed, nor downloaded, nor downloading, the attribute MUST
              return <code>available</code>. Otherwise, the attribute MUST
              return the empty string.
            </dd>
            <dt>
              readonly attribute unsigned long downloadSize
            </dt>
            <dd>
              The attribute SHOULD return the size of the download that would
              be required to update the application in kilobytes, if any. If
              the application does not have an available update, if the
              download has already been done or if the UA can't find out the
              size of the download required for the update, the attribute MUST
              return 0.<br>
              If the download is happening, the attribute MUST return 0.<br>
              If the download has been made but interrupted and the UA is able
              to continue it, the attribute SHOULD return the remaining size to
              download.
            </dd>
            <dt>
              DownloadRequest downloadUpdate()
            </dt>
            <dd>
              The method MUST return a <a>DownloadRequest</a> object and
              asynchronously run the following steps:
              <ol>
                <li>If the application does not have an available update, the
                UA MUST send an <a>error message</a> to the request object with
                the value <code>InvalidState</code> and abort these steps.
                </li>
                <li>If the application does not require a download to process
                the update, the UA MUST send a <a>success message</a> to the
                request object with no value and abort these steps.
                </li>
                <li>If the application's update is currently being downloaded,
                the request MUST reflect the current state of the download.
                Otherwise, the request must <a>start the download</a>.
                </li>
              </ol>
            </dd><!-- Execution states related API -->
            <dt>
              readonly attribute DOMString state;
            </dt>
            <dd>
              The attribute MUST return <code>running</code> if the current
              application state is <a>running</a>. Otherwise, if the current
              application state is <a>paused</a>, it MUST return
              <code>paused</code>. Otherwise, it MUST return
              <code>terminated</code>.
            </dd>
            <dt>
              void hide()
            </dt>
            <dd>
              When this method is called, the UA SHOULD hide the application
              from the user. Hiding the application SHOULD fire visibility
              events as described in [[!PAGE-VISIBILITY]].<br>
              If the application was already not visible, this method MUST be a
              no-op.
            </dd>
            <dt>
              void exit()
            </dt>
            <dd>
              When this method is called, the UA MUST put the application state
              to <a>terminated</a> and fire the appropriate events.<br>
              If the application was already in the <a>terminated</a> state,
              this method MUST be a no-op.
            </dd>
            <dt>
              attribute EventHandler onlaunch
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
            <dt>
              attribute EventHandler onpause
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
            <dt>
              attribute EventHandler onresume
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
            <dt>
              attribute EventHandler onterminate
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
          </dl>
        </section>
        <p>
          The following are the <a>event handlers</a> (and their corresponding
          <a>event handler event types</a>) that MUST be supported as
          attributes by the <code>Application</code> objects:
        </p>
        <table class="simple">
          <thead>
            <tr>
              <th>
                event handler
              </th>
              <th>
                event handler event type
              </th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <strong><code>onlaunch</code></strong>
              </td>
              <td>
                <code>launch</code>
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>onpause</code></strong>
              </td>
              <td>
                <code>pause</code>
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>onresume</code></strong>
              </td>
              <td>
                <code>resume</code>
              </td>
            </tr>
            <tr>
              <td>
                <strong><code>onterminate</code></strong>
              </td>
              <td>
                <code>terminate</code>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
      <section>
        <h2>
          <a>DownloadRequest</a> interface
        </h2>
        <section>
          <dl title='interface DownloadRequest : DOMRequest' class='idl'>
            <dt>
              void cancel()
            </dt>
            <dd>
              This method MUST stops the download and asynchronously send an
              <a>error message</a> to itself with the value
              <code>UserCancel</code>.
            </dd>
            <dt>
              attribute double progress
            </dt>
            <dd>
              If the current state is <code>error</code> the attribute MUST
              return 0.0. Otherwise, if the current state is
              <code>success</code>, the attribute MUST return 1.0. Otherwise,
              the attribute SHOULD return the current progress of the download
              expressed between 0.0 and 1.0.
            </dd>
            <dt>
              attribute EventHandler onprogress
            </dt>
            <dd class="todo">
              TBD
            </dd>
          </dl>
          <p>
            When the caller <dfn>start the download</dfn>, the
            <a>DownloadRequest</a> SHOULD start downloading the resource.
          </p>
          <p>
            If the resource fails to download, the UA MUST send an <a>error
            message</a> to the request.<br>
          </p>
          <p>
            If the resource succeed to download, the UA MUST send a <a>success
            message</a> to the request.
          </p>
          <p>
            While the resource is downloading, which means as long as
            <code>readyState</code> is <code>pending</code>, the UA SHOULD
            regularly <a>fire a simple event</a> named <a>progress</a> on the
            object. The UA should note that sending too much events might have
            an impact on performance but sending too few of them might impact
            the user experience.
          </p>
          <p>
            The following are the <a>event handlers</a> (and their
            corresponding <a>event handler event types</a>) that MUST be
            supported as attributes by the <code>DOMRequest</code> objects:
          </p>
          <table class="simple">
            <thead>
              <tr>
                <th>
                  event handler
                </th>
                <th>
                  event handler event type
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <strong><code>onprogress</code></strong>
                </td>
                <td>
                  <code>progress</code>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
      <section>
        <h2>
          Extension to the <a>Navigator</a> interface
        </h2>
        <section>
          <p>
            An <a>ApplicationRegistry</a> instance is exposed on the
            <code>Navigator</code> object trough the an <code>app</code>
            attribute.
          </p>
          <dl title='partial interface Navigator' class='idl'>
            <dt>
              readonly attribute ApplicationRegistry app
            </dt>
            <dd>
              The attribute MUST return an <a>ApplicationRegistry</a> instance.
            </dd>
          </dl>
        </section>
      </section>
      <section>
        <h2>
          <a>ApplicationRegistry</a> interface
        </h2>
        <section>
          <p>
            The <a>ApplicationRegistry</a> interface allows handling
            applications and query there status.
          </p>
          <dl title='interface ApplicationRegistry' class='idl'>
            <dt>
              DOMRequest install(in DOMString manifestUrl, [Optional] in Object
              parameters)
            </dt>
            <dd>
              This method MUST return a <a>DOMRequest</a> instance and then run
              the following steps asynchronously:
              <ol>
                <li>If the caller is not allowed by the UA to install the
                application, the UA MUST fire an <code>error</code> event to
                the <a>DOMRequest</a> object with the
                <code>"NotAllowedError"</code> error code and exit those steps.
                </li>
                <li>If the caller is allowed to install the application, the UA
                SHOULD install the application as described in the manifest at
                <code>manifestUrl</code>.
                </li>
                <li>If the application has been successfully installed, the UA
                MUST fire a <code>success</code> event to the <a>DOMRequest</a>
                object and set <code>result</code> to null.<br>
                  Otherwise, the UA MUST fire an <code>error</code> event to
                  the <a>DOMRequest</a> object with an error code that
                  describes the error.
                </li>
              </ol>
              <p>
                The UA SHOULD verify at any moment before installing that
                <code>manifestUrl</code> points to a valid manifest. If this is
                not the case, the UA MUST fire an <code>error</code> event to
                the <a>DOMRequest</a> object with the
                <code>"InvalidArgumentError"</code> and exit the steps.
              </p>
              <p>
                The UA SHOULD save the <code>parameters</code> if some are
                passed so they can later be retrieved by the
                <code>parameters</code> attribute on the <a>Application</a>
                interface.
              </p>
            </dd>
            <dt>
              DOMRequest getSelf()
            </dt>
            <dd>
              The UA SHOULD return a <a>DOMRequest</a> object and
              asynchronously check if the current context is an application
              context.<br>
              When the check is done, the UA SHOULD send a <code>success</code>
              event to the <a>DOMRequest</a> object and sets its
              <code>result</code> attribute to the <a>Application</a> object
              representing the current context or <code>null</code> if the
              current context is not an application context.
            </dd>
            <dt>
              DOMRequest getInstalled()
            </dt>
            <dd>
              The UA SHOULD return a <a>DOMRequest</a> object and
              asynchronously get all applications that have been installed by
              the caller's origin. [[!ORIGIN]]<br>
              When those applications are collected, the UA SHOULD send a
              <code>success</code> event to the <a>DOMRequest</a> object and
              populate its <code>result</code> attribute with an array of
              <a>Application</a> objects representing the applications.
            </dd>
            <dt>
              DOMRequest checkInstalled(DOMString manifestURL)
            </dt>
            <dd>
              The UA SHOULD return a <a>DOMRequest</a> object and
              asynchronously check if there is an installed application in the
              system with a manifest URL matching <i>manifestURL</i>.<br>
              After the asynchronous operation is done, the IA SHOULD send a
              <code>success</code> event to the <a>DOMRequest</a> object and
              populate its <code>result</code> attribute with the boolean value
              true if there is an installed application fulfilling the
              condition, otherwise <code>result</code> should be set to false.
            </dd>
            <dt>
              attribute ApplicationManagement management
            </dt>
            <dd>
              If the caller is not allowed to manage applications, the UA MUST
              return null. Otherwise, it MUST return an
              <a>ApplicationManagement</a> object.
              <ul class="todo">
                <li>Permission check is not clearly defined here. Should it be
                better?
                </li>
              </ul>
            </dd>
          </dl>
          <div class='todo'>
            <ul>
              <li>checkInstalled() could be synchronous. Seems way more
              convenient.
              </li>
            </ul>
          </div>
        </section>
      </section>
      <section>
        <h2>
          <a>ApplicationManagement</a> interface
        </h2>
        <section>
          <p>
            The <a>ApplicationManagement</a> interface allows access to all
            applications and is being informed any time an application is being
            installed or uninstalled. The intent of this interface is to be
            restricted to privileged callers.
          </p>
          <dl title='interface ApplicationManagement' class='idl'>
            <dt class='no-docs'>
              DOMRequest getAll()
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
            <dt class='no-docs'>
              DOMRequest applyUpdate(Application application)
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
            <dt class='no-docs'>
              attribute EventHandler oninstall
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
            <dt class='no-docs'>
              attribute EventHandler onuninstall
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
          </dl>
          <p>
            The <code>getAll</code> method SHOULD return a <a>DOMRequest</a>
            object and asynchronously get all installed applications.<br>
            When those applications are collected, the UA SHOULD send a
            <code>success</code> event to the <a>DOMRequest</a> object and
            populate its <code>request</code> attribute with an array of
            <a>Application</a> objects representing the applications.
          </p>
          <p>
            The <code>applyUpdate</code> method MUST return a <a>DOMRequest</a>
            object and perform the following steps asynchronously:
          </p>
          <ol>
            <li>If the application does not have an update or the update is not
            fully downloaded, the UA MUST send an <a>error message</a> to the
            request with the value <code>InvalidState</code> and abort these
            steps.
            </li>
            <li>Stop <i>application</i> from running if it is currently
            running.
            </li>
            <li>Replace the previous version with the new version of the
            application.
            </li>
            <li>If an error has occurred during the previous steps, the UA MUST
            send an <a>error message</a> to the request with any appropriate
            value. Otherwise, the UA MUST send a <a>success message</a> to the
            request with an <a>Application</a> object representing the updated
            application as a value.
            </li>
          </ol>
        </section>
        <section>
          <h2>
            Events
          </h2>
          <p>
            An <a>install</a> event using the <a>ApplicationEvent</a> interface
            MUST be fired on all <a>ApplicationManagement</a> instances as soon
            as an application is installed with the <code>application</code>
            attribute set to the <a>Application</a> object representing the
            installed application.
          </p>
          <p>
            The <a>uninstall</a> event using the <a>ApplicationEvent</a>
            interface MUST be fired on all <a>ApplicationManagement</a>
            instances as soon as an application is uninstalled with the
            <code>application</code> attribute set to the <a>Application</a>
            object representing the uninstalled application.
          </p>
          <p>
            The following are the <a>event handlers</a> (and their
            corresponding <a>event handler event types</a>) that MUST be
            supported as attributes by the <code>ApplicationManagement</code>
            object:
          </p>
          <table class="simple">
            <thead>
              <tr>
                <th>
                  event handler
                </th>
                <th>
                  event handler event type
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <strong><code>oninstall</code></strong>
                </td>
                <td>
                  <code>install</code>
                </td>
              </tr>
              <tr>
                <td>
                  <strong><code>onuninstall</code></strong>
                </td>
                <td>
                  <code>uninstall</code>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
      <section>
        <h2>
          Application Event Types
        </h2>
        <p>
          Application Events are sent when an event happen on the application
          level like an application being installed or uninstalled.
        </p>
        <section>
          <dl title=
          '[Constructor(DOMString type, ApplicationEventInit eventInitDict)] interface ApplicationEvent : Event'
          class='idl'>
            <dt>
              readonly attribute Application application
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
          </dl>
          <dl title='dictionary ApplicationEventInit : EventInit' class='idl'>
            <dt>
              Application application
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
          </dl>
        </section>
        <p>
          <a>ApplicationEvent</a> objects MUST contain a non-null
          <code>application</code> attribute representing the application on
          each the action happened.<br>
          The application events are always sent asynchronously, do not bubble
          and are not cancelable.
        </p>
        <p>
          There are currently two types of Application Events:
        </p>
        <ul>
          <li>
            <dfn>install</dfn> is sent when an application is installed.
            <code>application</code> MUST represent the installed application.
          </li>
          <li>
            <dfn>uninstall</dfn> is sent when an application is uninstalled.
            <code>application</code> MUST represent the uninstalled
            application.
          </li>
        </ul>
      </section>
    </section>
    <section>
      <h2>
        Packaged applications
      </h2>
      <p>
        A <dfn>packaged application</dfn> is an application that is
        self-contained in a container. All resources that are commonly used by
        the application SHOULD be available in the container.
      </p>
      <p>
        A <dfn>hosted application</dfn> is an application that is not a
        <a>packaged application</a>.
      </p>
      <section class="informative">
        <h2>
          Use cases
        </h2>
        <p>
          A <a>packaged application</a> would be useful in a few situations,
          amongst them:
        </p>
        <ul>
          <li>If a marketplace wants to guarantee that an application is safe,
          it allows it to review the application codes and makes sure that all
          permissions granted can't be used outside of the reviewed code. In
          addition, it forces, by design, that any update will go trough the
          same review process.
          </li>
          <li>Some developers might want to develop for the Web Platform
          without investing in a server infrastructure. Any client-side only
          applications written on top of the Web Platform will be able to be
          very easily distributed that way.
          </li>
        </ul>
      </section>
      <section>
        <h2>
          Package format
        </h2>
        <p>
          An <a>application manifest</a> for the application MUST be present at
          the root of the container.
        </p>
        <p>
          The container of a <a>packaged application</a> MUST be a ZIP file.
        </p>
      </section>
      <section>
        <h2>
          Origin and dereferring URLs
        </h2>
        <p>
          The origin of each instance of a packaged application MUST be
          universally unique for the life of that application (i.e., until it
          is uninstalled) [[!ORIGIN]]. As such, it is RECOMMENDED that a user
          agent synthesize an origin for a packaged application using the
          <code>app:</code> URI scheme [[!APP-URI]]. Relative URLs to resources
          within the packaged application can then be dereferenced using the
          dereferencing rules specified in the [[!APP-URI]] specification.
        </p>
      </section>
      <section>
        <h2>
          Manifest
        </h2>
        <p>
          Inside a <a>packaged application</a>, the <dfn>valid application manifest
          filename</dfn> is <code>manifest.webapp</code>.
        </p>
        <p>
          A <a>packaged application</a> MUST have a copy of its <a>application
          manifest</a> outside of the package so it can be used for
          installation and updates purposes. As a consequence, that copy of the
          <a>application manifest</a> can be reduced to only a few properties:
          <a>name</a>, <a>version</a> and <a>relNotes</a>. In addition, a new
          property can be used only in the content a packaged <a>application
          manifest</a>: <dfn id='prop-package'>package</dfn> that SHOULD
          contain an object with the following properties:
        </p>
        <ul>
          <li>
            <dfn id='prop-package-url'>url</dfn>: this property MUST contain
            the URL of the package related to that <a>application
            manifest</a>.<br>
            When installing or updating a <a>packaged application</a> from an
            <a>application manifest</a>, the UA MUST always use the manifest
            inside the package as soon as the package is found.
          </li>
          <li>
            <dfn id='prop-package-size'>size</dfn>: the property SHOULD contain
            the size of the package in kilobytes.
          </li>
          <li>
            <dfn id='prop-package-sha256'>sha256</dfn>: this property SHOULD
            contain the SHA256 checksum of the package and SHOULD be used by
            the UA to verify the integrity of the downloaded package.
          </li>
        </ul>
        <pre class='example highlight'>
        {
          "name": "My Packaged App",
          "description": "This is my first packaged app!",
          "launch_path": "/",
          "version": "1.0",
          "developer": {
            "name": "Mozilla",
            "url": "https://mozilla.org/en-US"
          },
          "package": {
            "url": "http://example.org/mypackagedapp.zip",
            "size": "1024",
            "sha256": "6df134b0cfd88d6d4f27a99e29b9923d50eb8b2c0d5289c60012de424c7a9d97"
          }
        }
        
</pre>
      </section>
      <div class="todo">
        * Add relNotes to the properties of the manifest, like: 'relNotes': {
        '1.0': "This is what has been done...", '0.1': "That was so long
        ago..." }
      </div>
    </section>
    <section>
      <h2>
        Updates
      </h2>
      <p>
        An application SHOULD advertise an update by updating its
        <a>application manifest</a>.
      </p>
      <p>
        The UA SHOULD regularly check if the <a>application manifest</a> of
        installed applications has not been updated. To know if the file has
        been updated, HTTP semantics apply.
      </p>
      <p>
        For <a>package applications</a>, both <a>application manifest</a>s
        (outside and inside the package) SHOULD be updated. However, the
        <a>application manifest</a> inside the package SHOULD always be checked
        to make sure the update (or the install) is genuine.
      </p>
    </section>
    <section>
      <h2>
        Data isolation
      </h2>
      <p>
        In the context of a running application, all usual rules for data
        isolation MUST apply: same-origin policy, same-domain policy, or
        whatever is used. However, between two applications, those rules no
        longer apply. Two applications MUST be fully isolated from each other
        in the sense that they SHOULD NOT be able to access data from each
        other. For example, if App1 accesses <i>http://example.org</i> and gets
        a cookie from it, App2 should not be able to see that cookie when
        accessing <i>http://example.org</i> even if the usual cookie sharing
        policy should allow this to happen.
      </p>
      <p>
        This isolation SHOULD apply for all data storage like <i>cookies</i>,
        <i>localStorage</i>, <i>IndexedDB</i>, <i>app cache</i> and any other
        Web Platform mechanism that allows to store data and does not
        explicitly opt out from the application data isolation.<br>
        The isolation SHOULD also apply to UA specifics data storage. For
        example, any permission granted or denied to a host/origin/domain
        should be isolated per-application or auto-fill and auto-completion
        features for forms.
      </p>
    </section>
    <section>
      <h2>
        Navigation
      </h2>
      <p>
        Depending on the user interface around the application context,
        navigating outside the <a>application's origin</a> might lock the user
        out of the application. To prevent that, the UA SHOULD NOT allow
        navigation out of the <a>application's origin</a>, unless the origin is
        specified in the following <a>application manifest</a> property:
      </p>
      <ul>
        <li>
          <dfn id='prop-allow-navigation'>allow-navigation</dfn>: the property
          SHOULD contain an array of origins that can be navigated to from the
          application.
        </li>
      </ul>
      <p>
        If the application tries to navigate to an unauthorized origin, the UA
        SHOULD open the link in a regular but distinct browsing context.
      </p>
    </section>
    <section>
      <h2>
        System Messages
      </h2>
      <div class="todo">
        TODO: We might want to have something describing how an application
        goes inactive, get killed and everything to have a better description
        of system messages. TODO: there is no notion of multi-page applications
        in this description of system messages. We do not handle system
        messages that are registered on another page.
      </div>
      <p>
        <i>System Messages</i> are events sent by the system to an application
        which has registered for it before. Those events are different from DOM
        events in the sense that they are always originated by the system and
        that if the targeted application is not currently running, it will be
        started.<br>
        In addition, unhandled messages will stay in a queue.
      </p>
      <section class="informative">
        <h2>
          Use cases
        </h2>
        <p>
          Some applications might be interested in getting some events even if
          they are not running and want to be woken up if such event is sent
          while they are asleep.<br>
          In addition, when the application is being woken, it needs to know as
          soon as possible why it has been disturbed to be able to show the
          appropriate interface.<br>
          Finally, the capability of being woken should be transparent to the
          application.
        </p>
      </section>
      <section>
        <h2>
          Extension to the <a>Navigator</a> interface
        </h2>
        <section>
          <dl id='idl-def-systemMessageCallback' class='idl' title=
          'callback systemMessageCallback = void'>
            <dt>
              optional Object message
            </dt>
            <dd>
              The parameter <i>message</i> SHOULD contain an object that would
              be used by the handler and giving information about the system
              message. For example, a system message about a delivered pizza
              should give information about the pizzas that have been
              delivered. If the system message is already self-explanatory,
              <i>message</i> SHOULD be null.
            </dd>
          </dl>
          <dl title='partial interface Navigator' class='idl'>
            <dt>
              void setMessageHandler(DOMString type, systemMessageCallback?
              callback)
            </dt>
            <dd>
              The method MUST set <i>callback</i> as the new message handler
              for the <a>type of system message</a> <i>type</i>.<br>
              If <i>callback</i> is null, the current callback, if any, for the
              <a>type of message</a> <i>type</i> must be reset and no callback
              should no longer be set for this type.<br>
              If <i>callback</i> is not null and there was no message handler
              for the given type and there are messages in the <a>pool of
              messages</a> for the type, then the UA MUST start an asynchronous
              task that executes all the messages in the pool by the new
              handler in a <abbr title='First In First Out'>FIFO</abbr> basis
              and then remove all those messages from the <a>pool of
              messages</a>.<br>
              If the <i>callback</i> is not null and there is a message handler
              for the given type, that message handler should be replaced by
              <i>callback</i>.
            </dd>
            <dt>
              boolean hasPendingMessages(DOMString type)
            </dt>
            <dd>
              The method MUST returns true if there is at least one message in
              the <a>pool of messages</a> for the given <i>type</i>. Otherwise,
              it MUST return false.
            </dd>
          </dl>
        </section>
      </section>
      <section>
        <h2>
          Definitions
        </h2>
        <p>
          The <dfn>type of system message</dfn> identifies a category of system
          messages.<br>
          Application are able to register and handle system messages based on
          their types. There is no exhaustive list of system messages type. Any
          specification can create a new type of system message.
        </p>
        <p>
          Each application has a <dfn>pool of messages</dfn> for each <a>type
          of system message</a>. Every time a system message is sent to an
          application, if there is no handler for that message's type, the UA
          MUST add the message to the pool of messages used for that type.<br>
          The UA MAY, for memory optimization, discard old messages if the pool
          becomes too big or if the messages are too old.
        </p>
        <p>
          When a UA is required to <dfn>fire a system message</dfn> of a given
          type, it has to do one of these actions:
        </p>
        <ul>
          <li>If the application is running and a handler is defined, the UA
          MUST run the handling method;
          </li>
          <li>Otherwise, if the application is running and no handler is
          defined, the UA MUST add the message to the <a>pool of messages</a>;
          </li>
          <li>Otherwise, if the application is not running, the UA MUST add the
          message to the <a>pool of messages</a> and start the application.
          </li>
        </ul>
      </section>
    </section>
    <section>
      <h2>
        Permissions
      </h2>
      <section class="informative">
        <h2>
          Use cases
        </h2>
        <p>
          Some API might allow the application to access sensitive parts of the
          hardware or sensitive information. To prevent applications to access
          them, some APIs might require one or more permissions. For example,
          for an application to be allowed to access your geolocation
          information, it has to be granted the <i>geolocation</i> permission.
        </p>
      </section>
      <section>
        <h2>
          Permission declaration
        </h2>
        <p>
          An application SHOULD define all permissions it is going to use in
          the <a>application manifest</a>. The UA MAY automatically grant some
          permissions at install-time or ask the user to grant some
          applications. However, MAY, in addition or alternatively, ask the
          user to grant permissions at run-time.
        </p>
        <p>
          The user MUST be able to revoke a granted permission or grant a
          denied permission at any time.
        </p>
      </section>
      <section>
        <h2>
          Basic Permissions
        </h2>
        <p>
          Specifications are expected to declare the permissions they will
          require for their feature to work. Altough, some basic permissions
          can't really go into a specific specification or a related to
          specifications that might be harder to change.
        </p>
        <p>
          Thus, this specification defines the following permissions:
        </p>
        <table>
          <tr>
            <th>
              Permission Name
            </th>
            <th>
              Permission Description
            </th>
            <th>
              Access Type
            </th>
          </tr>
          <tr>
            <td>
              <code>notification</code>
            </td>
            <td>
              Allow the application to use the Web Notifications API.
            </td>
            <td>
              N/A
            </td>
          </tr>
          <tr>
            <td>
              <code>geolocation</code>
            </td>
            <td>
              Allow the application to access the Geolocation API.
            </td>
            <td>
              N/A
            </td>
          </tr>
          <tr>
            <td>
              <code>storage</code>
            </td>
            <td>
              Allow localStorage and IndexedDB without size limitations.
            </td>
            <td>
              N/A
            </td>
          </tr>
          <tr>
            <td>
              <code>webapps-manage</code>
            </td>
            <td>
              Allow access to the <code>navigator.apps.management</code> API to
              manage installed webapps.
            </td>
            <td>
              N/A
            </td>
          </tr>
        </table>
      </section>
      <section>
        <h2>
          Privileged applications
        </h2>
        <section class="informative">
          <h2>
            Use cases
          </h2>
          <p>
            Some applications require access to APIs which, if abused, may
            cause significant damage to the end user's services, data or
            devices. For example, an API allowing the use of SMS could be
            misused by a malicious application to send unwanted premium-rate
            messages costing the user money.
          </p>
          <p>
            Because the impact of using a malicious application with these
            privileges is higher, additional security mechanisms and processes
            are necessary to minimize the additional risk they present. This
            might include, for example, mandatory review of applications or
            certification. A simple user-authorized permission system is
            considered insufficient: users could be tricked into granting a
            malicious application access to inappropriate APIs, services or
            data.
          </p>
          <p>
            As a complement to permissioning, this specification defines a
            <em>privileged</em> class of application. Applications which are
            not privileged will not be able to access potentially dangerous
            APIs.
          </p>
        </section>
        <section>
          <h2>
            Chain of trust
          </h2>
          <p>
            An application is said to be a <dfn>privileged application</dfn> if
            the origin installing the application is trusted by the UA and the
            origin installing the application considers the application to be
            trustworthy.
          </p>
          <p>
            A UA SHOULD have the public key of all installation origins it
            considers to be trusted.
          </p>
        </section>
        <section>
          <h2>
            Marking an application privileged
          </h2>
          <p>
            A <a>hosted application</a> MUST be recognized as marked privileged
            by the installation origin if the <a>application manifest</a> is
            signed by the installation origin's private key.
          </p>
          <p>
            A <a>packaged application</a> MUST be recognized as marked
            privileged by the installation origin if the package is signed by
            the installation origin's private key.
          </p>
          <p>
            In both cases, the application SHOULD be considered as privileged
            by the UA if the UA considers the installation origin as trusted,
            following the chain of trust mentioned above.
          </p>
        </section>
        <section class="informative">
          <h2>
            Security considerations
          </h2>
          <p>
            UA should keep in mind that a signed package is way more secure
            than a signed manifest. A correctly signed package can only be
            compromised if the private key has been compromised or the
            cryptographic algorithm. A UA should not trust an installation
            origin if it does not trust its ability to keep safe its private
            key.
          </p>
          <p>
            On the other hands, a signed manifest only proves that the
            application is genuinely trusted (if the private key was not
            compromised nor the cryptographic algorithm). Anything else can be
            compromised given that it lives in the Internet. There is no need
            to list all possible attacks.
          </p>
          <p>
            An important difference between a <a>packaged application</a> and a
            <a>hosted application</a> is the ability to review the code. Any
            permission granted to a <a>packaged application</a> will be granted
            to the code inside the package only. That means trusting such
            application is way easier after a code review, for example.
          </p>
          <p>
            However, code review for <a>packaged application</a>s could be
            avoided if the installation origin trusts enough an application
            developer. Such developer could get all its <a>packaged
            application</a>s trusted without too much risk for the users.<br>
            The same thing could be done for <a>hosted application</a> except
            that it would be recommended to make sure that the developer has
            strong server security or would not risk any security flaw on their
            servers.
          </p>
        </section>
        <section>
          <h2>
            CSP Policy
          </h2>
          <section class="note">
            The following sub-section assumes that a <a>privileged
            application</a> can only be a <a>packaged application</a>. This
            needs to be updated.
          </section>
          <p>
            The following CSP policy MUST apply to all <a>privileged
            application</a>s [[!CSP]]:<br>
          </p>
          <p>
            <code>default-src *; script-src 'self'; object-src 'none';
            style-src 'self'</code>
          </p>
          <p>
            This puts the following restrictions on web pages part of a
            <a>privileged application</a>:
          </p>
          <ul>
            <li>Scripts can only be loaded from the package;
            </li>
            <li>Scripts can not use data:-URIs;
            </li>
            <li>Inline scripts can not be used;
            </li>
            <li>eval() can not be used. Neither can eval-like functions like
            setTimeout or "new Function". setTimeout can still be used as long
            as the first argument is a Function object rather than a string;
            </li>
            <li>onXXX attributes can't be used in the markup of pages. However,
            using the associated <a>EventHandler</a> is doable. For example:
            myElement.onXXX = someFunction;
            </li>
            <li>&lt;object&gt;, &lt;embed&gt; and &lt;applet&gt; are fully
            disabled. In other words, plugins won't work at all. Including
            flash.
            </li>
            <li>CSS can only be loaded from the package. Inline CSS is however
            allowed.
            </li>
          </ul>
          <p>
            This does not restrict any of the following:
          </p>
          <ul>
            <li>&lt;iframe&gt;s can still point to any URL;
            </li>
            <li>Images can still be loaded from anywhere. Including when loaded
            using an &lt;img&gt; element, when using CSS background images or
            when using other types of CSS images;
            </li>
            <li>Media (audio and video) can still be loaded from anywhere;
            </li>
            <li>Network connections can still be opened anywhere using
            data-centric APIs like XMLHttpRequest or WebSocket.
            </li>
          </ul>
          <p>
            There is no way for <a>privileged application</a>s to relax this
            policy.
          </p>
        </section>
      </section>
    </section>
    <section>
      <h2>
        Application life-cycle
      </h2>
      <section>
        <h2>
          Application states
        </h2>
        <p>
          At any time, an application MUST be in one of the following states:
          <a>running</a>, <a>paused</a>, <a>terminated</a>.
        </p>
        <p>
          An application is <dfn>running</dfn> when it has been launched by the
          UA and has not been put in <a>paused</a>. A <a>running</a>
          application can transition to <a>paused</a> or <a>terminated</a>
          states.
        </p>
        <p>
          If a <a>running</a> application transitions to a <a>paused</a> state,
          the UA MUST <a>fire a simple event</a> named <code>pause</code> on
          the <a>Application</a> object before switching its state.
        </p>
        <p>
          If a <a>running</a> application transitions to a <a>terminated</a>
          state, the UA MUST <a>fire a simple event</a> named
          <code>terminate</code> on the <a>Application</a> object before
          shutting down the application.
        </p>
        <p>
          An application is <dfn>paused</dfn> when the UA stops the execution
          of an application without terminating it. A <a>paused</a> application
          SHOULD have all its scripts no longer running, such as rendering,
          parsing, processing media files and any action that requires CPU and
          memory or would distract the user. A <a>paused</a> application can
          transition to <a>running</a> or <a>terminated</a> states.
        </p>
        <p>
          If a <a>paused</a> application transitions to a <a>running</a> state,
          the UA MUST <a>fire a simple event</a> named <code>resume</code> on
          the <a>Application</a> object after changing its state.
        </p>
        <p>
          An application is <dfn>terminated</dfn> when the application has been
          stopped and is no longer loaded in the system. The state of a
          <a>terminated</a> application can only be changed to <a>running</a>
          if the application is launched again.
        </p>
        <p>
          If a <a>terminated</a> application transitions to a <a>running</a>
          state, the UA MUST <a>fire a simple event</a> named
          <code>launch</code> on the <a>Application</a> object after the main
          browsing context is created but before the <code>load</code> and
          <code>DOMContentLoaded</code> events are fired.
        </p>
      </section>
      <section class='issue'>
        <p>
          The specification currently assumes that one will save important when
          paused so there is no terminate event when transitioning from pause
          to terminate.
        </p>
      </section>
      <section class='issue'>
        <p>
          Do we have real use cases for <code>launch</code>?<br>
          Is firing before <code>load</code> a hard thing to do?
        </p>
      </section>
      <section>
        <h2>
          Consequences of visibility
        </h2>
        <p>
          While an application is running, it can be part or fully hidden. The
          visibility events described in [[!PAGE-VISIBILITY]] MUST be sent when
          the visibility status of the application changes.
        </p>
        <p>
          In addition, when the application becomes fully hidden, the UA MAY
          put the application in a <a>paused</a> state.
        </p>
      </section>
    </section>
    <section class="appendix">
      <h2>
        <a>DOMRequest</a> interface
      </h2>
      <section class="note">
        <p>
          The <a>DOMRequest</a> interface is temporarily hosted by this
          specification. The <i>Runtime and Security Model for Web
          Applications</i> specificaton does not plan to keep that guest for
          ever, this is why it is currently staying in an appendix.
        </p>
      </section>
      <section class="informative">
        <h2>
          Use cases
        </h2>
        <p>
          Some methods want to return a value or do an action but can't do it
          synchronously, most of the time for performance reasons. In that
          case, most of those methods will use a callback mechanism to inform
          the caller of the success or the failure of the action.<br>
          However, this callback mechanism makes the code barely readable and
          there is no common pattern used by all API in the Web Platform.<br>
          <a>DOMRequest</a> intend to be used instead of those callbacks to
          make those APIs more developer-friendly and help code readability.
        </p>
      </section>
      <section>
        <h2>
          Definition
        </h2>
        <p>
          The <a>DOMRequest</a> interface is intended to be used by
          asynchronous methods that want to return something after performing
          an action or simply want to inform the caller that the action is
          done. It returned request can also be used to inform that an error
          happened during the operation.
        </p>
        <p>
          A <a>DOMRequest</a> has three state. It is whether
          <code>pending</code>, <code>success</code> or <code>error</code>.<br>
          The initial state of a <a>DOMRequest</a> MUST be
          <code>pending</code>.
        </p>
        <p>
          If a <a>DOMRequest</a> receives a <a>success message</a> while in the
          <code>pending</code> state, its state MUST change to
          <code>success</code> and SHOULD NOT change afterward.
        </p>
        <p>
          If a <a>DOMRequest</a> receives an <a>error message</a> while in the
          <code>pending</code> state, its state MUST change to
          <code>error</code> and SHOULD NOT change afterward.
        </p>
        <p>
          If a <a>DOMRequest</a> receives a <a>success message</a> or an
          <a>error message</a> while not in the <code>pending</code> state, the
          message MUST be ignored.
        </p>
        <p>
          A <dfn>success message</dfn> SHOULD be sent to the <a>DOMRequest</a>
          when the operation is successfully terminated. The message MAY
          contain a value which MUST be used by the <code>result</code>
          attribute. If the message does not contain a value, <i>null</i> MUST
          be used instead.
        </p>
        <p>
          As soon as a <a>success message</a> is received,
          <code>readyState</code> MUST return <code>done</code>,
          <code>result</code> MUST return the received value or <i>null</i> as
          explained above and the object MUST NOT change its state and MUST,
          therefore, ignore all following <a>success message</a> and <a>error
          message</a>.<br>
          Finally, the UA MUST <a>fire a simple event</a> named
          <code>success</code> on the object
        </p>
        <p>
          An <dfn>error message</dfn> SHOULD be sent to the <a>DOMRequest</a>
          when the operation has failed. The message MAY contain a value which
          MUST be a <a>DOMError</a> object and MUST be used by the
          <code>error</code> attribute. If the message does not contain a
          value, the UA SHOULD find the most appropriate <a>DOMError</a> that
          represents the failure.
        </p>
        <p>
          As soon as an <a>error message</a> is received,
          <code>readyState</code> MUST return <code>done</code>,
          <code>error</code> MUST return the received value the most
          appropriate error value as explained above and the object MUST NOT
          change its state and MUST, therefore, ignore all following <a>success
          message</a> and <a>error message</a>.<br>
          Finally, the UA MUST <a>fire a simple event</a> named
          <code>error</code> on the object.
        </p>
        <section>
          <dl title='interface DOMRequest : EventTarget' class='idl'>
            <dt>
              readonly attribute DOMString readyState
            </dt>
            <dd>
              The attribute MUST return <code>pending</code> if the current
              state is <code>pending</code>. Otherwise, it MUST return
              <code>done</code>.
            </dd>
            <dt>
              readonly attribute any result
            </dt>
            <dd>
              The attribute MUST return <code>undefined</code> if the current
              state is not <code>success</code>. Otherwise, it MUST return the
              value provided by the <a>success message</a> or <code>null</code>
              if no value was sent with the message.
            </dd>
            <dt>
              readonly attribute DOMError? error
            </dt>
            <dd>
              The attribute MUST return <i>null</i> if the current state is not
              <code>error</code>. Otherwise, it MUST return the value provided
              by by the <a>error message</a>. If there was no provided value,
              it SHOULD return the most appropriate <a>DOMError</a> that
              represents the failure.
            </dd>
            <dt>
              [TreatNonCallableAsNull] attribute EventHandler onsuccess
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
            <dt>
              [TreatNonCallableAsNull] attribute EventHandler onerror
            </dt>
            <dd>
              <div class="todo">
                TBD
              </div>
            </dd>
          </dl>
        </section>
        <section>
          <h2>
            Events
          </h2>
          <p>
            The following are the <a>event handlers</a> (and their
            corresponding <a>event handler event types</a>) that MUST be
            supported as attributes by the <code>DOMRequest</code> objects:
          </p>
          <table class="simple">
            <thead>
              <tr>
                <th>
                  event handler
                </th>
                <th>
                  event handler event type
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <strong><code>onerror</code></strong>
                </td>
                <td>
                  <code>error</code>
                </td>
              </tr>
              <tr>
                <td>
                  <strong><code>onsuccess</code></strong>
                </td>
                <td>
                  <code>success</code>
                </td>
              </tr>
            </tbody>
          </table>
        </section>
      </section>
    </section>
    <section class="appendix">
      <h2>
        Acknowledgments
      </h2>
      <p>
        Special thanks to the Mozilla team working on Open Web Apps, especially
        Anant Narayanan for his <i>Web Application Manifest Format and
        Management APIs</i> specification that this document reuse shamelessly
        and Fabrice Desré for his help in understanding why some decisions were
        made.
      </p>
      <p>
        Special thanks to the Samsung team, especially 金明(Ming Jin), Janusz
        Majnert and 송정기(Jungkee Song) for their work on the <i>System
        Application Runtime: Execution and Security Model</i> specification.
      </p>
      <p>
        Special thanks to Jonas Sicking and Marcos Caceres for their invaluable
        help.
      </p>
      <p>
        Thanks to John Lyle, Christophe Dumez and Jonathan Jeon for their
        useful comments and change proposals.
      </p>
    </section>
  </body>
</html>
